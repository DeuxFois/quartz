<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="La Procuration qui vous permet d’utiliser un substitut pour un objet. Elle donne le contrôle sur l’objet original, vous permettant d’effectuer des manipulations avant ou après que la demande ne lui parvienne."><title>Procuration / Proxy</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://deuxfois.github.io/quartz//icon.png><link href=https://deuxfois.github.io/quartz/styles.b54f56dc7e7fdf6be9a4427dc6b0509b.min.css rel=stylesheet><link href=https://deuxfois.github.io/quartz/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://deuxfois.github.io/quartz/js/darkmode.69b2c08ae0f08c3a3f86259a122e1f06.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/util.39f53d45cb9520bdaf946bd063598b19.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://deuxfois.github.io/quartz/js/popover.37b1455b8f0603154072b9467132c659.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://deuxfois.github.io/quartz/",fetchData=Promise.all([fetch("https://deuxfois.github.io/quartz/indices/linkIndex.ae532b25b7234418be730011680aea32.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://deuxfois.github.io/quartz/indices/contentIndex.d7a179423d348ae2ec5367e264b2b2a4.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const n=new URL(BASE_URL),s=n.pathname,o=window.location.pathname,i=s==o;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts();const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=i&&!0;drawGraph("https://deuxfois.github.io/quartz",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:2,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2}),initPopover("https://deuxfois.github.io/quartz",!0,!0)},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/deuxfois.github.io\/quartz\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://deuxfois.github.io/quartz/js/full-text-search.0ec5fb908204b9e13989f2c640c0870b.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://deuxfois.github.io/quartz/>⛄ DeuxFoi's blog</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Procuration / Proxy</h1><p class=meta>Last updated
Aug 2, 2022
<a href=https://github.com/jackyzha0/quartz/tree/hugo/content/Architecture/Design_Pattern/Structurel/Procuration.md rel=noopener>Edit Source</a></p><ul class=tags><li><a href=https://deuxfois.github.io/quartz/tags/design_pattern/>Design pattern</a></li><li><a href=https://deuxfois.github.io/quartz/tags/structurel/>Structurel</a></li></ul><aside class=mainTOC><details open><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#problème>Problème</a></li><li><a href=#solution>Solution</a></li><li><a href=#analogie>Analogie</a></li><li><a href=#structure>Structure</a></li><li><a href=#pseudo-code>Pseudo-code</a></li><li><a href=#possibilités-dapplication>Possibilités d’application</a></li><li><a href=#mise-en-œuvre>Mise en œuvre</a></li><li><a href=#avantages-et-inconvénients>Avantages et inconvénients</a></li><li><a href=#liens-avec-les-autres-patrons>Liens avec les autres patrons</a></li><li><a href=#exemples-de-code>Exemples de code</a><ol><li><a href=#soutenez-notre-site-gratuit-et-obtenez-lebook>Soutenez notre site gratuit et obtenez l’ebook !</a></li></ol></li></ol></nav></details></aside><p>La <strong>Procuration</strong> qui vous permet d’utiliser un substitut pour un objet. Elle donne le contrôle sur l’objet original, vous permettant d’effectuer des manipulations avant ou après que la demande ne lui parvienne.</p><p><img src=https://deuxfois.github.io/quartz//../../_resources/proxy_8bec69d3da76480da2d3e7595a0dd136.png width=auto alt="Patron de conception procuration"></p><a href=#problème><h2 id=problème><span class=hanchor arialabel=Anchor># </span>Problème</h2></a><p>Pourquoi vouloir maîtriser l’accès à un objet ? Voici un exemple : vous avez un énorme objet qui consomme beaucoup de ressources, mais vous n’en avez besoin que de temps en temps.</p><p><img src=https://deuxfois.github.io/quartz//../../_resources/problem-fr_4516c5a9474b418cb15ebc4ea43160bb.png width=auto alt="Problème résolu grâce au patron de conception procuration"></p><p>Les requêtes sur la base de données sont parfois très lentes.</p><p>Vous pouvez recourir à l’instanciation paresseuse : créer l’objet uniquement lorsque vous en avez besoin. Vous devrez implémenter une initialisation différée dans tous les clients pour l’objet concerné. Malheureusement, vous allez vous retrouver avec beaucoup de code dupliqué.</p><p>Dans le meilleur des mondes, nous voudrions mettre ce code directement dans la classe de l’objet, mais ce n’est pas toujours possible. La classe pourrait par exemple faire partie d’une application externe non modifiable.</p><a href=#solution><h2 id=solution><span class=hanchor arialabel=Anchor># </span>Solution</h2></a><p>Ce patron de conception vous propose de créer une classe procuration qui a la même interface que l’objet du service original. Vous passez ensuite l’objet procuration à tous les clients de l’objet original. Lors de la réception d’une demande d’un client, la procuration crée l’objet du service original et lui délègue la tâche.</p><img width=510 height=0 src=../../_resources/solution-fr_d108a79cf5f0490d9ebed8f7e2bfa2d3.png><p>La procuration se déguise en objet base de données. Elle peut gérer l’instanciation paresseuse et mettre en cache le résultat sans que le client ou que l’objet de la base de données ne le remarque.</p><p>Mais quel est son intérêt ? Si vous voulez lancer un traitement avant ou après avoir appliqué la logique principale de la classe, la procuration peut intervenir sans modifier cette dernière. Elle implémente la même interface que la classe originale, et peut donc être passée en paramètre à n’importe quel client qui attend l’objet du service original.</p><a href=#analogie><h2 id=analogie><span class=hanchor arialabel=Anchor># </span>Analogie</h2></a><img width=540 height=0 src=../../_resources/live-example_9e4ab5179b8f478297bf488e9c063341.png><p>Une carte de crédit peut être utilisée au même titre que de l’argent liquide.</p><p>Une carte de crédit est une procuration pour un compte bancaire, qui est une procuration pour une liasse de billets. Ils implémentent la même interface : tous deux peuvent être utilisés pour effectuer un paiement. Le consommateur apprécie grandement, car il n’a pas besoin de garder une grosse somme en liquide sur lui. Le commerçant est également très heureux, car les transactions sont versées électroniquement vers son compte en banque, sans courir le risque d’égarer son dépôt ou de se le faire voler sur le chemin de la banque.</p><a href=#structure><h2 id=structure><span class=hanchor arialabel=Anchor># </span>Structure</h2></a><img width=370 height=0 src=../../_resources/structure_7ec857c0c80941b8af769751a190a5dc.png><ol><li><p>L’<strong>Interface Service</strong> déclare l’interface du service. La procuration doit implémenter cette interface afin de pouvoir se déguiser en objet du service.</p></li><li><p>Le <strong>Service</strong> est une classe qui fournit la logique métier dont vous voulez vous servir.</p></li><li><p>La <strong>Procuration</strong> est une classe dotée d’un attribut qui pointe vers un objet service. Une fois que la procuration a lancé tous ses traitements (instanciation paresseuse, historisation des logs, vérification des droits, mise en cache, etc.), elle envoie la demande à l’objet du service.</p><p>En général, les procurations gèrent le cycle de vie de leurs objets service.</p></li><li><p>Le <strong>Client</strong> passe par la même interface pour travailler avec les services et les procurations. Il est ainsi possible de passer une procuration à n’importe quel code qui attend un objet service.</p></li></ol><a href=#pseudo-code><h2 id=pseudo-code><span class=hanchor arialabel=Anchor># </span>Pseudo-code</h2></a><p>L’exemple suivant montre comment le patron de conception <strong>Procuration</strong> nous aide à utiliser l’instanciation paresseuse et la mise en cache pour intégrer une librairie YouTube externe.</p><img width=490 height=0 src=../../_resources/example_d6dd498295c04089bc59f6341952feb2.png><p>Résultats obtenus pour la mise en cache d’un service à l’aide d’une procuration.</p><p>La librairie nous fournit une classe pour télécharger des vidéos. Malheureusement, elle n’est pas très efficace. Si l’application client demande une même vidéo à plusieurs reprises, la librairie va la télécharger encore et encore, plutôt que de la mettre en cache après la première utilisation.</p><p>La classe procuration implémente la même interface que l’outil de téléchargement original et délègue tout le travail à ce dernier. En revanche, elle garde la trace de tous les fichiers téléchargés et retourne les données du cache lorsque l’application fait plusieurs fois appel à la même vidéo.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=o>//</span><span class=w> </span><span class=n>L</span><span class=err>’</span><span class=n>interface</span><span class=w> </span><span class=n>d</span><span class=err>’</span><span class=n>un</span><span class=w> </span><span class=n>service</span><span class=w> </span><span class=n>distant</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>interface</span><span class=w> </span><span class=n>ThirdPartyYouTubeLib</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>listVideos</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>getVideoInfo</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>downloadVideo</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>La</span><span class=w> </span><span class=n>méthode</span><span class=w> </span><span class=n>d</span><span class=err>’</span><span class=n>implémentation</span><span class=w> </span><span class=n>concrète</span><span class=w> </span><span class=n>d</span><span class=err>’</span><span class=n>un</span><span class=w> </span><span class=n>connecteur</span><span class=w> </span><span class=n>de</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>service</span><span class=p>.</span><span class=w> </span><span class=n>Les</span><span class=w> </span><span class=n>méthodes</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>cette</span><span class=w> </span><span class=n>classe</span><span class=w> </span><span class=n>peuvent</span><span class=w> </span><span class=n>demander</span><span class=w> </span><span class=n>des</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>informations</span><span class=w> </span><span class=err>à</span><span class=w> </span><span class=n>YouTube</span><span class=p>.</span><span class=w> </span><span class=n>La</span><span class=w> </span><span class=n>vitesse</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>demande</span><span class=w> </span><span class=n>dépend</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>la</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>connexion</span><span class=w> </span><span class=n>Internet</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>l</span><span class=err>’</span><span class=n>utilisateur</span><span class=p>,</span><span class=w> </span><span class=n>ainsi</span><span class=w> </span><span class=n>que</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>celle</span><span class=w> </span><span class=n>de</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>YouTube</span><span class=p>.</span><span class=w> </span><span class=n>L</span><span class=err>’</span><span class=n>application</span><span class=w> </span><span class=n>sera</span><span class=w> </span><span class=n>plus</span><span class=w> </span><span class=n>lente</span><span class=w> </span><span class=n>si</span><span class=w> </span><span class=n>plusieurs</span><span class=w> </span><span class=n>demandes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>sont</span><span class=w> </span><span class=n>envoyées</span><span class=w> </span><span class=n>en</span><span class=w> </span><span class=n>même</span><span class=w> </span><span class=n>temps</span><span class=p>,</span><span class=w> </span><span class=n>même</span><span class=w> </span><span class=n>si</span><span class=w> </span><span class=n>elles</span><span class=w> </span><span class=n>recherchent</span><span class=w> </span><span class=n>les</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>mêmes</span><span class=w> </span><span class=n>informations</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>class</span><span class=w> </span><span class=n>ThirdPartyYouTubeClass</span><span class=w> </span><span class=n>implements</span><span class=w> </span><span class=n>ThirdPartyYouTubeLib</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>listVideos</span><span class=p>()</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>Envoie</span><span class=w> </span><span class=n>une</span><span class=w> </span><span class=n>demande</span><span class=w> </span><span class=n>via</span><span class=w> </span><span class=n>une</span><span class=w> </span><span class=n>API</span><span class=w> </span><span class=err>à</span><span class=w> </span><span class=n>YouTube</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>getVideoInfo</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>Récupère</span><span class=w> </span><span class=n>les</span><span class=w> </span><span class=n>métadonnées</span><span class=w> </span><span class=n>d</span><span class=err>’</span><span class=n>une</span><span class=w> </span><span class=n>vidéo</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>downloadVideo</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>Télécharge</span><span class=w> </span><span class=n>un</span><span class=w> </span><span class=n>fichier</span><span class=w> </span><span class=n>vidéo</span><span class=w> </span><span class=n>sur</span><span class=w> </span><span class=n>YouTube</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>Pour</span><span class=w> </span><span class=err>é</span><span class=n>conomiser</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>bande</span><span class=w> </span><span class=n>passante</span><span class=p>,</span><span class=w> </span><span class=n>nous</span><span class=w> </span><span class=n>pouvons</span><span class=w> </span><span class=n>mettre</span><span class=w> </span><span class=n>en</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>cache</span><span class=w> </span><span class=n>les</span><span class=w> </span><span class=n>résultats</span><span class=w> </span><span class=n>des</span><span class=w> </span><span class=n>demandes</span><span class=w> </span><span class=n>et</span><span class=w> </span><span class=n>les</span><span class=w> </span><span class=n>mettre</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>côté</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>temporairement</span><span class=p>.</span><span class=w> </span><span class=n>Mais</span><span class=w> </span><span class=n>vous</span><span class=w> </span><span class=n>n</span><span class=err>’</span><span class=n>allez</span><span class=w> </span><span class=n>pas</span><span class=w> </span><span class=n>forcément</span><span class=w> </span><span class=n>pouvoir</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=err>é</span><span class=n>crire</span><span class=w> </span><span class=n>ce</span><span class=w> </span><span class=n>code</span><span class=w> </span><span class=n>directement</span><span class=w> </span><span class=n>dans</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>classe</span><span class=w> </span><span class=n>du</span><span class=w> </span><span class=n>service</span><span class=p>.</span><span class=w> </span><span class=n>Elle</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>pourrait</span><span class=w> </span><span class=n>provenir</span><span class=w> </span><span class=n>d</span><span class=err>’</span><span class=n>une</span><span class=w> </span><span class=n>librairie</span><span class=w> </span><span class=n>externe</span><span class=w> </span><span class=n>ou</span><span class=w> </span><span class=n>avoir</span><span class=w> </span><span class=err>é</span><span class=n>té</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>définie</span><span class=w> </span><span class=n>comme</span><span class=w> </span><span class=o>`</span><span class=n>final</span><span class=o>`</span><span class=p>.</span><span class=w> </span><span class=n>Pour</span><span class=w> </span><span class=n>cette</span><span class=w> </span><span class=n>raison</span><span class=p>,</span><span class=w> </span><span class=n>nous</span><span class=w> </span><span class=err>é</span><span class=n>crivons</span><span class=w> </span><span class=n>le</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>code</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>mise</span><span class=w> </span><span class=n>en</span><span class=w> </span><span class=n>cache</span><span class=w> </span><span class=n>dans</span><span class=w> </span><span class=n>une</span><span class=w> </span><span class=n>nouvelle</span><span class=w> </span><span class=n>classe</span><span class=w> </span><span class=n>procuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>qui</span><span class=w> </span><span class=n>implémente</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>même</span><span class=w> </span><span class=n>interface</span><span class=w> </span><span class=n>que</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>classe</span><span class=w> </span><span class=n>du</span><span class=w> </span><span class=n>service</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>Elle</span><span class=w> </span><span class=n>délègue</span><span class=w> </span><span class=n>les</span><span class=w> </span><span class=n>tâches</span><span class=w> </span><span class=err>à</span><span class=w> </span><span class=n>l</span><span class=err>’</span><span class=n>objet</span><span class=w> </span><span class=n>du</span><span class=w> </span><span class=n>service</span><span class=w> </span><span class=n>lorsque</span><span class=w> </span><span class=n>les</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>demandes</span><span class=w> </span><span class=n>doivent</span><span class=w> </span><span class=n>vraiment</span><span class=w> </span><span class=err>ê</span><span class=n>tre</span><span class=w> </span><span class=n>envoyées</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>class</span><span class=w> </span><span class=n>CachedYouTubeClass</span><span class=w> </span><span class=n>implements</span><span class=w> </span><span class=n>ThirdPartyYouTubeLib</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>private</span><span class=w> </span><span class=n>field</span><span class=w> </span><span class=n>service</span><span class=p>:</span><span class=w> </span><span class=n>ThirdPartyYouTubeLib</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>private</span><span class=w> </span><span class=n>field</span><span class=w> </span><span class=n>listCache</span><span class=p>,</span><span class=w> </span><span class=n>videoCache</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>field</span><span class=w> </span><span class=n>needReset</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>constructor</span><span class=w> </span><span class=nf>CachedYouTubeClass</span><span class=p>(</span><span class=n>service</span><span class=p>:</span><span class=w> </span><span class=n>ThirdPartyYouTubeLib</span><span class=p>)</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>this</span><span class=p>.</span><span class=n>service</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>listVideos</span><span class=p>()</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>listCache</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=no>null</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>needReset</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>listCache</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>service</span><span class=p>.</span><span class=nf>listVideos</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>listCache</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>getVideoInfo</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>videoCache</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=no>null</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>needReset</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>videoCache</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>service</span><span class=p>.</span><span class=nf>getVideoInfo</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>videoCache</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>downloadVideo</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=nf>downloadExists</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>needReset</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>service</span><span class=p>.</span><span class=nf>downloadVideo</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>La</span><span class=w> </span><span class=n>classe</span><span class=w> </span><span class=n>GUI</span><span class=w> </span><span class=n>qui</span><span class=w> </span><span class=n>fonctionnait</span><span class=w> </span><span class=n>auparavant</span><span class=w> </span><span class=n>avec</span><span class=w> </span><span class=n>un</span><span class=w> </span><span class=n>objet</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>Service</span><span class=w> </span><span class=n>n</span><span class=err>’</span><span class=n>a</span><span class=w> </span><span class=n>pas</span><span class=w> </span><span class=n>besoin</span><span class=w> </span><span class=n>d</span><span class=err>’ê</span><span class=n>tre</span><span class=w> </span><span class=n>modifiée</span><span class=w> </span><span class=n>tant</span><span class=w> </span><span class=n>qu</span><span class=err>’</span><span class=n>elle</span><span class=w> </span><span class=n>interagit</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>avec</span><span class=w> </span><span class=n>lui</span><span class=w> </span><span class=n>par</span><span class=w> </span><span class=n>le</span><span class=w> </span><span class=n>biais</span><span class=w> </span><span class=n>d</span><span class=err>’</span><span class=n>une</span><span class=w> </span><span class=n>interface</span><span class=p>.</span><span class=w> </span><span class=n>Nous</span><span class=w> </span><span class=n>pouvons</span><span class=w> </span><span class=n>passer</span><span class=w> </span><span class=n>en</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>toute</span><span class=w> </span><span class=n>sécurité</span><span class=w> </span><span class=n>un</span><span class=w> </span><span class=n>objet</span><span class=w> </span><span class=n>procuration</span><span class=w> </span><span class=err>à</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>place</span><span class=w> </span><span class=n>d</span><span class=err>’</span><span class=n>un</span><span class=w> </span><span class=n>objet</span><span class=w> </span><span class=n>du</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>service</span><span class=p>,</span><span class=w> </span><span class=n>car</span><span class=w> </span><span class=n>ils</span><span class=w> </span><span class=n>implémentent</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>même</span><span class=w> </span><span class=n>interface</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>class</span><span class=w> </span><span class=n>YouTubeManager</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>protected</span><span class=w> </span><span class=n>field</span><span class=w> </span><span class=n>service</span><span class=p>:</span><span class=w> </span><span class=n>ThirdPartyYouTubeLib</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>constructor</span><span class=w> </span><span class=nf>YouTubeManager</span><span class=p>(</span><span class=n>service</span><span class=p>:</span><span class=w> </span><span class=n>ThirdPartyYouTubeLib</span><span class=p>)</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>this</span><span class=p>.</span><span class=n>service</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>renderVideoPage</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>service</span><span class=p>.</span><span class=nf>getVideoInfo</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>Affiche</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>page</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>vidéo</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>renderListPanel</span><span class=p>()</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>list</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>service</span><span class=p>.</span><span class=nf>listVideos</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>Affiche</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>liste</span><span class=w> </span><span class=n>des</span><span class=w> </span><span class=n>miniatures</span><span class=w> </span><span class=n>des</span><span class=w> </span><span class=n>vidéos</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>reactOnUserInput</span><span class=p>()</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nf>renderVideoPage</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nf>renderListPanel</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>L</span><span class=err>’</span><span class=n>application</span><span class=w> </span><span class=n>peut</span><span class=w> </span><span class=n>configurer</span><span class=w> </span><span class=n>les</span><span class=w> </span><span class=n>procurations</span><span class=w> </span><span class=err>à</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>volée</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>class</span><span class=w> </span><span class=n>Application</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>init</span><span class=p>()</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>aYouTubeService</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>new</span><span class=w> </span><span class=nf>ThirdPartyYouTubeClass</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>aYouTubeProxy</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>new</span><span class=w> </span><span class=nf>CachedYouTubeClass</span><span class=p>(</span><span class=n>aYouTubeService</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>manager</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>new</span><span class=w> </span><span class=nf>YouTubeManager</span><span class=p>(</span><span class=n>aYouTubeProxy</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>manager</span><span class=p>.</span><span class=nf>reactOnUserInput</span><span class=p>()</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><a href=#possibilités-dapplication><h2 id=possibilités-dapplication><span class=hanchor arialabel=Anchor># </span>Possibilités d’application</h2></a><p>La procuration possède de nombreux usages. Passons en revue les plus populaires.</p><p>Instanciation paresseuse (procuration virtuelle). À utiliser lorsque l’objet du service est très consommateur en ressources système car il est actif en permanence, mais vous n’en avez pas tout le temps besoin.</p><p>Vous pouvez différer l’initialisation de l’objet plutôt que de le créer au lancement de l’application.</p><p>Vérification des droits (procuration de protection). Si vous avez besoin de limiter l’accès de vos clients à l’objet du service, par exemple si vos objets sont des parties cruciales d’un système d’exploitation et que les clients sont différentes applications lancées (dont certaines sont malveillantes).</p><p>La procuration peut ne transmettre une demande à l’objet du service que si les identifiants du client remplissent certains critères.</p><p>Lancement local d’un service distant (procuration à distance). L’objet du service se situe sur un serveur distant.</p><p>Dans ce cas, la procuration envoie la demande par le réseau en s’occupant de gérer tous les détails compliqués de la gestion du réseau.</p><p>Demande de logs (procuration de logs). Pour garder un historique des demandes passées auprès de l’objet du service.</p><p>La procuration peut garder la trace de toutes les demandes passées au service.</p><p>Mettre en cache les résultats des demandes (procuration de cache). Si vous voulez mettre en cache les résultats des demandes faites au client et gérer le cycle de vie de ce cache, principalement lorsque les résultats sont imposants.</p><p>La procuration peut gérer la mise en cache des demandes récurrentes qui retournent toujours le même résultat. Les paramètres des demandes peuvent servir de clé.</p><p>Référencement intelligent. Si vous voulez vous débarrasser d’un objet très consommateur en ressources lorsqu’aucun client ne l’utilise.</p><p>La procuration peut garder la trace des clients qui ont récupéré une référence vers l’objet du service ou vers ses résultats. De temps en temps, la procuration peut faire le tour des clients et vérifier s’ils sont toujours actifs. Si la liste des clients est vide, la procuration peut supprimer l’objet du service afin de libérer des ressources.</p><p>Elle peut également savoir si le client avait modifié l’objet du service. Les objets non modifiés peuvent ensuite être réutilisés par les autres clients.</p><a href=#mise-en-œuvre><h2 id=mise-en-œuvre><span class=hanchor arialabel=Anchor># </span>Mise en œuvre</h2></a><ol><li><p>Si le service n’a pas encore d’interface, créez-en une pour rendre la procuration et les objets du service interchangeables. Il n’est pas toujours possible d’extraire l’interface de la classe du service, car vous devez effectuer des modifications pour que tous les clients du service utilisent cette interface. Heureusement, nous avons un plan B. Transformez la procuration en sous-classe de la classe service, afin qu’elle hérite de l’interface du service.</p></li><li><p>Créez la classe procuration. Elle doit inclure un attribut qui stocke la référence au service. En général, les procurations créent et gèrent le cycle de vie de leurs services. En de rares occasions, un service est passé à la procuration par le biais d’un constructeur du client.</p></li><li><p>Mettez en place les méthodes de la procuration et leur fonctionnement. Dans la plupart des cas, la procuration doit déléguer le travail à l’objet du service après avoir lancé ses traitements.</p></li><li><p>Réfléchissez à l’implémentation d’une méthode de création qui décide si votre client doit utiliser directement le service ou passer par la procuration. Il peut s’agir d’une méthode statique toute simple ou d’une classe procuration avec une méthode fabrique complète.</p></li><li><p>Envisagez également l’implémentation d’une instanciation paresseuse pour l’objet du service.</p></li></ol><a href=#avantages-et-inconvénients><h2 id=avantages-et-inconvénients><span class=hanchor arialabel=Anchor># </span>Avantages et inconvénients</h2></a><ul><li><p>Vous pouvez contrôler l’objet du service sans que le client ne s’en aperçoive.</p></li><li><p>Vous pouvez gérer le cycle de vie de l’objet du service si les clients ne s’en occupent pas.</p></li><li><p>La procuration fonctionne même si l’objet du service n’est pas prêt ou pas disponible.</p></li><li><p><em>Principe ouvert/fermé</em>. Vous pouvez ajouter de nouvelles procurations sans toucher au service ou aux clients.</p></li><li><p>Le code peut devenir plus complexe puisque vous devez y introduire de nombreuses classes.</p></li><li><p>La réponse du service peut mettre plus de temps à arriver.</p></li></ul><a href=#liens-avec-les-autres-patrons><h2 id=liens-avec-les-autres-patrons><span class=hanchor arialabel=Anchor># </span>Liens avec les autres patrons</h2></a><ul><li><p>L’
<a href=https://refactoring.guru/fr/design-patterns/adapter rel=noopener>Adaptateur</a> procure une interface différente à l’objet emballé, la
<a href=https://refactoring.guru/fr/design-patterns/proxy rel=noopener>Procuration</a> lui fournit la même interface et le
<a href=https://refactoring.guru/fr/design-patterns/decorator rel=noopener>Décorateur</a> lui met à disposition une interface améliorée.</p></li><li><p>La
<a href=https://refactoring.guru/fr/design-patterns/facade rel=noopener>Façade</a> et la
<a href=https://refactoring.guru/fr/design-patterns/proxy rel=noopener>Procuration</a> ont une similarité : ils mettent en tampon une entité complexe et l’initialisent individuellement. Contrairement à la <em>façade</em>, la <em>procuration</em> implémente la même interface que son objet service, ce qui les rend interchangeables.</p></li><li><p>Le
<a href=https://refactoring.guru/fr/design-patterns/decorator rel=noopener>Décorateur</a> et la
<a href=https://refactoring.guru/fr/design-patterns/proxy rel=noopener>Procuration</a> ont des structures similaires, mais des intentions différentes. Ces deux patrons sont bâtis sur le principe de la composition, où un objet est censé déléguer certains traitements à un autre. La différence est qu’en principe, la <em>procuration</em> gère elle-même le cycle de vie de son objet service, alors que la composition des <em>décorateurs</em> est toujours contrôlée par le client.</p></li></ul><a href=#exemples-de-code><h2 id=exemples-de-code><span class=hanchor arialabel=Anchor># </span>Exemples de code</h2></a><p><a href=https://refactoring.guru/fr/design-patterns/proxy/java/example rel=noopener><img width=43 height=56 src=../../_resources/java_a0eb42f5aebc48258309a769bd3f2ca8.svg></a>
<a href=https://refactoring.guru/fr/design-patterns/proxy/csharp/example rel=noopener><img width=43 height=56 src=../../_resources/csharp_f77b5e322a7a4c45bad3ce31c72ce495.svg></a>
<a href=https://refactoring.guru/fr/design-patterns/proxy/cpp/example rel=noopener><img width=43 height=56 src=../../_resources/cpp_fb7eaa54ec944f68b19b6f01db34d95f.svg></a>
<a href=https://refactoring.guru/fr/design-patterns/proxy/php/example rel=noopener><img width=43 height=56 src=../../_resources/php_66efd986b0f74c009b4526e2dd8e97e2.svg></a>
<a href=https://refactoring.guru/fr/design-patterns/proxy/python/example rel=noopener><img width=43 height=56 src=../../_resources/python_b5ac4f08505047139db5727df5ad4b41.svg></a>
<a href=https://refactoring.guru/fr/design-patterns/proxy/ruby/example rel=noopener><img width=43 height=56 src=../../_resources/ruby_efbb5e27b6f44d13a093639471f4fa94.svg></a>
<a href=https://refactoring.guru/fr/design-patterns/proxy/swift/example rel=noopener><img width=43 height=56 src=../../_resources/swift_b7df4c4b325f4b8da153de520e4f1fc2.svg></a>
<a href=https://refactoring.guru/fr/design-patterns/proxy/typescript/example rel=noopener><img width=43 height=56 src=../../_resources/typescript_931dfe2231594fe099522d266bbe80c7.svg></a>
<a href=https://refactoring.guru/fr/design-patterns/proxy/go/example rel=noopener><img width=43 height=56 src=../../_resources/go_6ac91ff300584d2b910e5f723d5eb211.svg></a></p><p><a href=https://refactoring.guru/fr/design-patterns/book rel=noopener><img width=200 height=200 src=../../_resources/patterns-book-banner-3_6aaf8bfa7dfc4b79989512b18a2.png></a></p><a href=#soutenez-notre-site-gratuit-et-obtenez-lebook><h3 id=soutenez-notre-site-gratuit-et-obtenez-lebook><span class=hanchor arialabel=Anchor># </span>Soutenez notre site gratuit et obtenez l’ebook !</h3></a><ul><li>22 patrons de conception et 8 principes expliqués en profondeur.</li><li>444 pages de vulgarisation, bien structurées et faciles à lire.</li><li>225 illustrations et diagrammes clairs pour aider à la compréhension.</li><li>Une archive avec des exemples de code dans 9 langages.</li><li>Tous les appareils sont pris en charge : formats PDF/EPUB/MOBI/KFX.</li></ul><p><a href=https://refactoring.guru/fr/design-patterns/book rel=noopener>En savoir plus…</a></p><a href=#suivant><h4 id=suivant><span class=hanchor arialabel=Anchor># </span>Suivant</h4></a><p><a href=https://refactoring.guru/fr/design-patterns/behavioral-patterns rel=noopener>Patrons comportementaux</a></p><a href=#retour><h4 id=retour><span class=hanchor arialabel=Anchor># </span>Retour</h4></a><p><a href=https://refactoring.guru/fr/design-patterns/flyweight rel=noopener>Poids mouche</a></p><p><a href=https://refactoring.guru/fr/design-patterns/book rel=noopener><img width=245 height=375 src=../../_resources/web-cover-fr_8732287de86e489a9a66f92c20e1acbe.png></a></p><p>Cet article est tiré de notre ebook
<strong>Plongée au cœur des
PATRONS DE CONCEPTION</strong></p><p><a href=https://refactoring.guru/fr/design-patterns/book rel=noopener>En savoir plus…</a></p><p>Facebook</p><p>Twitter</p><ul><li><a href="https://feedback.refactoring.guru/?lang=en&show_feedback_form_private=true" rel=noopener>Nous contacter</a></li><li><a href=https://refactoring.guru/fr/login rel=noopener>Connexion</a></li></ul><p><a href=https://refactoring.guru/design-patterns/proxy rel=noopener>English</a>
<a href=https://refactoring.guru/es/design-patterns/proxy rel=noopener>Español</a>
<a href=https://refactoring.guru/fr/design-patterns/proxy rel=noopener>Français</a>
<a href=https://refactoring.guru/pl/design-patterns/proxy rel=noopener>Polski</a>
<a href=https://refactoring.guru/pt-br/design-patterns/proxy rel=noopener>Português-Br</a>
<a href=https://refactoring.guru/ru/design-patterns/proxy rel=noopener>Русский</a>
<a href=https://refactoring.guru/uk/design-patterns/proxy rel=noopener>Українська</a>
<a href=https://refactoringguru.cn/design-patterns/proxy rel=noopener>中文</a></p><p><a href=https://refactoring.guru/fr rel=noopener><img src=https://deuxfois.github.io/quartz//../../_resources/logo-covid-winter_859d0ab064004adeafcbffedc354ade3.png width=auto alt=Refactoring.Guru></a></p><p><img src=https://deuxfois.github.io/quartz//../../_resources/winter-hat_a1e60a23c42c4a59be2f8b6a407293ff.png width=auto alt></p><ul><li><a href=https://refactoring.guru/fr/store rel=noopener>Contenu premium</a></li><li><a href=https://refactoring.guru/fr/design-patterns rel=noopener>Patrons de conception</a><ul><li><a href=https://refactoring.guru/fr/design-patterns/what-is-pattern rel=noopener>Introduction</a></li><li><a href=https://refactoring.guru/fr/design-patterns/catalog rel=noopener>Catalogue</a></li><li><a href=https://refactoring.guru/fr/design-patterns/creational-patterns rel=noopener>Patrons de création</a></li><li><a href=https://refactoring.guru/fr/design-patterns/structural-patterns rel=noopener>Patrons structurels</a><ul><li><a href=https://refactoring.guru/fr/design-patterns/adapter rel=noopener>Adaptateur</a></li><li><a href=https://refactoring.guru/fr/design-patterns/bridge rel=noopener>Pont</a></li><li><a href=https://refactoring.guru/fr/design-patterns/composite rel=noopener>Composite</a></li><li><a href=https://refactoring.guru/fr/design-patterns/decorator rel=noopener>Décorateur</a></li><li><a href=https://refactoring.guru/fr/design-patterns/facade rel=noopener>Façade</a></li><li><a href=https://refactoring.guru/fr/design-patterns/flyweight rel=noopener>Poids mouche</a></li><li><a href=https://refactoring.guru/fr/design-patterns/proxy rel=noopener>Procuration</a></li></ul></li><li><a href=https://refactoring.guru/fr/design-patterns/behavioral-patterns rel=noopener>Patrons comportementaux</a></li><li><a href=https://refactoring.guru/fr/design-patterns/examples rel=noopener>Exemples de code</a></li></ul></li><li><a href=https://refactoring.guru/fr/refactoring rel=noopener>Refactorisation (commenter bientôt)</a></li></ul><p><a href=https://refactoring.guru/fr/login rel=noopener>Connexion</a>
<a href="https://feedback.refactoring.guru/?lang=en" rel=noopener>Nous contacter</a></p><ul><li><a href=https://refactoring.guru/fr rel=noopener>Accueil</a></li><li><a href=https://refactoring.guru/fr/refactoring rel=noopener>Refactorisation</a></li><li><a href=https://refactoring.guru/fr/design-patterns rel=noopener>Patrons de conception</a></li><li><a href=https://refactoring.guru/fr/store rel=noopener>Contenu premium</a></li><li><a href="https://feedback.refactoring.guru/?lang=en" rel=noopener>Forum</a></li><li><a href="https://feedback.refactoring.guru/?lang=en&show_feedback_form_private=true" rel=noopener>Nous contacter</a></li></ul><p>2014-2021
<a href=https://refactoring.guru/fr rel=noopener>Refactoring.Guru</a>. Tous droits réservés.
<img src=https://deuxfois.github.io/quartz//../../_resources/fa-building_87bf62543bf64cdc9482b81a7c692725.svg width=auto alt="Organization address"> Khmelnitske shosse 19 / 27, Kamianets-Podilskyi, Ukraine, 32305
Email:
<a rel=noopener class="internal-link broken" data-src=mailto:support@refactoring.guru>support@refactoring.guru</a></p><p>Illustrations par
<a href=http://zhart.us/ rel=noopener>Dmitry Zhart</a></p><ul><li><a href=https://refactoring.guru/fr/terms rel=noopener>Termes et conditions</a></li><li><a href=https://refactoring.guru/fr/privacy-policy rel=noopener>Politique de protection de la vie privée</a></li><li><a href=https://refactoring.guru/fr/content-usage-policy rel=noopener>Politique de l’utilisation des données</a></li></ul></article><hr><div class=page-end><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/quartz/Architecture/Design_Pattern/Structurel/Sommaire/ data-ctx=Procuration data-src=/Architecture/Design_Pattern/Structurel/Sommaire class=internal-link></a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://deuxfois.github.io/quartz/js/graph.243ea0d4fc79317e06f846bd698ba136.js></script></div></div><div id=contact_buttons><footer><p>Made by DeuxFois using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2022</p><ul><li><a href=https://deuxfois.github.io/quartz/>Home</a></li><li><a href=https://twitter.com/_jzhao>Twitter</a></li><li><a href=https://github.com/jackyzha0>Github</a></li></ul></footer></div></div></body></html>