<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Prototype crée de nouveaux objets à partir d’objets existants sans rendre le code dépendant de leur classe.
 Problème Nous voulons une copie exacte d’un objet."><title>Prototype</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://deuxfois.github.io/quartz//icon.png><link href=https://deuxfois.github.io/quartz/styles.b54f56dc7e7fdf6be9a4427dc6b0509b.min.css rel=stylesheet><link href=https://deuxfois.github.io/quartz/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://deuxfois.github.io/quartz/js/darkmode.69b2c08ae0f08c3a3f86259a122e1f06.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/util.39f53d45cb9520bdaf946bd063598b19.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://deuxfois.github.io/quartz/js/popover.37b1455b8f0603154072b9467132c659.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://deuxfois.github.io/quartz/",fetchData=Promise.all([fetch("https://deuxfois.github.io/quartz/indices/linkIndex.ae532b25b7234418be730011680aea32.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://deuxfois.github.io/quartz/indices/contentIndex.d7a179423d348ae2ec5367e264b2b2a4.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const n=new URL(BASE_URL),s=n.pathname,o=window.location.pathname,i=s==o;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts();const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=i&&!0;drawGraph("https://deuxfois.github.io/quartz",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:2,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2}),initPopover("https://deuxfois.github.io/quartz",!0,!0)},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/deuxfois.github.io\/quartz\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://deuxfois.github.io/quartz/js/full-text-search.0ec5fb908204b9e13989f2c640c0870b.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://deuxfois.github.io/quartz/>⛄ DeuxFoi's blog</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Prototype</h1><p class=meta>Last updated
Aug 2, 2022
<a href=https://github.com/jackyzha0/quartz/tree/hugo/content/Architecture/Design_Pattern/Creation/Prototype.md rel=noopener>Edit Source</a></p><ul class=tags><li><a href=https://deuxfois.github.io/quartz/tags/cr%C3%A9ation/>Création</a></li><li><a href=https://deuxfois.github.io/quartz/tags/design_pattern/>Design pattern</a></li></ul><aside class=mainTOC><details open><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#problème>Problème</a></li><li><a href=#solution>Solution</a></li><li><a href=#analogie>Analogie</a></li><li><a href=#structure>Structure</a><ol><li></li></ol></li><li><a href=#pseudo-code>Pseudo-code</a></li><li><a href=#possibilités-dapplication>Possibilités d’application</a></li><li><a href=#mise-en-œuvre>Mise en œuvre</a></li><li><a href=#avantages-et-inconvénients>Avantages et inconvénients</a></li><li><a href=#liens-avec-les-autres-patrons>Liens avec les autres patrons</a></li><li><a href=#exemples-de-code>Exemples de code</a><ol><li><a href=#soutenez-notre-site-gratuit-et-obtenez-lebook>Soutenez notre site gratuit et obtenez l’ebook !</a></li></ol></li></ol></nav></details></aside><p><strong>Prototype</strong> crée de nouveaux objets à partir d’objets existants sans rendre le code dépendant de leur classe.</p><p><img src=https://deuxfois.github.io/quartz//../../_resources/prototype_6f91352eb56041039dfcda0dddb25f97.png width=auto alt="Patron de conception prototype"></p><a href=#problème><h2 id=problème><span class=hanchor arialabel=Anchor># </span>Problème</h2></a><p>Nous voulons une copie exacte d’un objet. Comment vous y prendriez-vous ? Tout d’abord, vous devez créer un nouvel objet de cette même classe. Ensuite, vous devez parcourir tous les attributs de l’objet d’origine et copier leurs valeurs dans le nouvel objet.</p><p>Super ! Mais il y a un hic. Certains objets ne peuvent pas être copiés ainsi, car leurs attributs peuvent être privés et ne pas être visibles en dehors de l’objet.</p><p><img src=https://deuxfois.github.io/quartz//../../_resources/prototype-comic-1-fr_8dbe0f974a95480197f30256be021.png width=auto alt="Ce qui peut mal tourner lorsque l’on construit un objet « depuis l’extérieur »"></p><p>Copier un objet « depuis l’extérieur »
<a href=https://refactoring.guru/cargo-cult rel=noopener>n’est pas</a> toujours possible.</p><p>Un autre problème se profile avec l’approche directe. Étant donné que vous devez connaître la classe de l’objet pour le dupliquer, votre code devient dépendant de cette classe. Même si cette dépendance ne vous effraie pas, il y a un autre hic. Parfois, vous ne connaissez que l’interface implémentée par l’objet, mais pas sa classe concrète. Si le paramètre d’une méthode accepte tous les objets qui implémentent une interface donnée, vous pouvez rencontrer des problèmes.</p><a href=#solution><h2 id=solution><span class=hanchor arialabel=Anchor># </span>Solution</h2></a><p>Le patron de conception prototype délègue le processus de clonage aux objets qui vont être copiés. Il déclare une interface commune pour tous les objets qui pourront être clonés. Cette interface vous permet de cloner un objet sans coupler votre code à la classe de cet objet. En général, une telle interface ne contient qu’une seule méthode <code>clone</code>.</p><p>L’implémentation de cette méthode se ressemble dans toutes les classes. Elle crée un objet de la classe actuelle et reporte les valeurs des attributs de l’objet d’origine dans le nouveau. Vous pouvez également copier des attributs privés, car la plupart des langages de programmation autorisent l’accès à des objets d’une même classe.</p><p>Un objet qui peut être cloné est appelé un <em>prototype</em>. Lorsque vos objets possèdent des dizaines d’attributs et des centaines de configurations possibles, le clonage est une alternative au sous-classage.</p><img width=343 height=0 src=../../_resources/prototype-comic-2-fr_26f400eae0ec4ddcbe1bf6f963983.png class=jop-noMdConv><p>Les prototypes préconstruits sont une alternative au sous-classage.</p><p>Leur fonctionnement est le suivant : vous créez un ensemble d’objets configurés différemment. Dès que vous avez besoin de l’un de ces objets, vous clonez un prototype plutôt que d’en construire un nouveau.</p><a href=#analogie><h2 id=analogie><span class=hanchor arialabel=Anchor># </span>Analogie</h2></a><p>Dans la vie réelle, des prototypes sont utilisés pour exécuter des tests avant de lancer les chaînes de production d’un produit. Dans ce cas toutefois, les prototypes ne font pas partie intégrante de la fabrication, ils ne jouent qu’un rôle passif.</p><img width=600 height=0 src=../../_resources/prototype-comic-3-fr_f4912030fde8454caa063fd0f3625.png class=jop-noMdConv><p>La division cellulaire.</p><p>Puisque les prototypes industriels ne se clonent pas eux-mêmes, étudions le processus de la mitose d’une cellule (petit rappel de vos cours de biologie). Une fois la division mitotique terminée, une paire de cellules identiques est créée. La cellule originale sert de prototype et joue un rôle actif dans la création de la copie.</p><a href=#structure><h2 id=structure><span class=hanchor arialabel=Anchor># </span>Structure</h2></a><a href=#implémentation-de-base><h4 id=implémentation-de-base><span class=hanchor arialabel=Anchor># </span>Implémentation de base</h4></a><img width=500 height=0 src=../../_resources/structure_485673edbf7f471a840dbf222bb1dc19.png class=jop-noMdConv><ol><li><p>L’interface <strong>Prototype</strong> déclare les méthodes de clonage. Dans la majorité des cas, il n’y a qu’une seule méthode <code>clone</code>.</p></li><li><p>La classe <strong>Prototype Concret</strong> implémente la méthode de clonage. En plus de copier les données de l’objet original dans le clone, cette méthode peut gérer des cas particuliers du processus de clonage, comme des objets imbriqués, démêler les dépendances récursives, etc.</p></li><li><p>Le <strong>Client</strong> peut produire une copie de n’importe quel objet implémentant l’interface prototype.</p></li></ol><a href=#implémentation-du-registre-de-prototypes><h4 id=implémentation-du-registre-de-prototypes><span class=hanchor arialabel=Anchor># </span>Implémentation du registre de prototypes</h4></a><img width=550 height=0 src=../../_resources/structure-prototype-cache_43603c8c5b524486bd04847b.png class=jop-noMdConv><ol><li>Le <strong>Registre de Prototypes</strong> facilite l’accès aux prototypes fréquemment utilisés. Il stocke un ensemble d’objets préconstruits qui ont déjà été copiés. Le registre de prototypes le plus simple est une table de hachage (hash map) <code>nom → prototype</code>. Si vous voulez de meilleurs critères de recherche qu’un simple nom, construisez une version plus robuste du registre.</li></ol><a href=#pseudo-code><h2 id=pseudo-code><span class=hanchor arialabel=Anchor># </span>Pseudo-code</h2></a><p>Dans cet exemple, le <strong>Prototype</strong> produit des copies exactes d’objets géométriques, sans coupler le code à leurs classes.</p><img width=470 height=0 src=../../_resources/example_69c0d1e1531f4466b2db3f71c2e209f8.png class=jop-noMdConv><p>Cloner un ensemble d’objets qui appartiennent à une hiérarchie de classes.</p><p>Toutes les formes implémentent la même interface, et cette dernière fournit une méthode de clonage. Une sous-classe peut appeler la méthode de clonage de son parent avant de copier les valeurs de ses propres attributs dans l’objet.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span><span class=lnt>92
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=o>//</span><span class=w> </span><span class=n>Prototype</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>base</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>abstract</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=n>Shape</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>field</span><span class=w> </span><span class=n>X</span><span class=p>:</span><span class=w> </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>field</span><span class=w> </span><span class=n>Y</span><span class=p>:</span><span class=w> </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>field</span><span class=w> </span><span class=n>color</span><span class=p>:</span><span class=w> </span><span class=n>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>//</span><span class=w> </span><span class=n>Un</span><span class=w> </span><span class=n>constructeur</span><span class=w> </span><span class=n>normal</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>constructor</span><span class=w> </span><span class=nf>Shape</span><span class=p>()</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=p>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>//</span><span class=w> </span><span class=n>Le</span><span class=w> </span><span class=n>constructeur</span><span class=w> </span><span class=n>du</span><span class=w> </span><span class=n>prototype</span><span class=p>.</span><span class=w> </span><span class=n>Un</span><span class=w> </span><span class=n>nouvel</span><span class=w> </span><span class=n>objet</span><span class=w> </span><span class=n>est</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>//</span><span class=w> </span><span class=n>initialisé</span><span class=w> </span><span class=n>avec</span><span class=w> </span><span class=n>les</span><span class=w> </span><span class=n>valeurs</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>l</span><span class=err>’</span><span class=n>objet</span><span class=w> </span><span class=n>existant</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>constructor</span><span class=w> </span><span class=nf>Shape</span><span class=p>(</span><span class=n>source</span><span class=p>:</span><span class=w> </span><span class=n>Shape</span><span class=p>)</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nf>this</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>this</span><span class=p>.</span><span class=n>X</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>source</span><span class=p>.</span><span class=n>X</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>this</span><span class=p>.</span><span class=n>Y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>source</span><span class=p>.</span><span class=n>Y</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>this</span><span class=p>.</span><span class=n>color</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>source</span><span class=p>.</span><span class=n>color</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>//</span><span class=w> </span><span class=n>Le</span><span class=w> </span><span class=n>traitement</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>clonage</span><span class=w> </span><span class=n>retourne</span><span class=w> </span><span class=n>l</span><span class=err>’</span><span class=n>une</span><span class=w> </span><span class=n>des</span><span class=w> </span><span class=n>sous</span><span class=o>-</span><span class=n>classes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>//</span><span class=w> </span><span class=nf>Forme</span><span class=w> </span><span class=p>(</span><span class=n>Shape</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>abstract</span><span class=w> </span><span class=n>method</span><span class=w> </span><span class=nf>clone</span><span class=p>():</span><span class=n>Shape</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>Prototype</span><span class=w> </span><span class=n>concret</span><span class=p>.</span><span class=w> </span><span class=n>La</span><span class=w> </span><span class=n>méthode</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>clonage</span><span class=w> </span><span class=n>crée</span><span class=w> </span><span class=n>un</span><span class=w> </span><span class=n>nouvel</span><span class=w> </span><span class=n>objet</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>et</span><span class=w> </span><span class=n>le</span><span class=w> </span><span class=n>passe</span><span class=w> </span><span class=n>au</span><span class=w> </span><span class=n>constructeur</span><span class=p>.</span><span class=w> </span><span class=n>Il</span><span class=w> </span><span class=n>garde</span><span class=w> </span><span class=n>une</span><span class=w> </span><span class=n>référence</span><span class=w> </span><span class=err>à</span><span class=w> </span><span class=n>un</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>nouveau</span><span class=w> </span><span class=n>clone</span><span class=w> </span><span class=n>tant</span><span class=w> </span><span class=n>que</span><span class=w> </span><span class=n>le</span><span class=w> </span><span class=n>constructeur</span><span class=w> </span><span class=n>n</span><span class=err>’</span><span class=n>a</span><span class=w> </span><span class=n>pas</span><span class=w> </span><span class=n>terminé</span><span class=p>.</span><span class=w> </span><span class=n>Il</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>est</span><span class=w> </span><span class=n>donc</span><span class=w> </span><span class=n>impossible</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>se</span><span class=w> </span><span class=n>retrouver</span><span class=w> </span><span class=n>avec</span><span class=w> </span><span class=n>un</span><span class=w> </span><span class=n>clone</span><span class=w> </span><span class=n>incomplet</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>et</span><span class=w> </span><span class=n>les</span><span class=w> </span><span class=n>résultats</span><span class=w> </span><span class=n>du</span><span class=w> </span><span class=n>clonage</span><span class=w> </span><span class=n>sont</span><span class=w> </span><span class=n>toujours</span><span class=w> </span><span class=n>fiables</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>class</span><span class=w> </span><span class=n>Rectangle</span><span class=w> </span><span class=n>extends</span><span class=w> </span><span class=n>Shape</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>field</span><span class=w> </span><span class=n>width</span><span class=p>:</span><span class=w> </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>field</span><span class=w> </span><span class=n>height</span><span class=p>:</span><span class=w> </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>constructor</span><span class=w> </span><span class=nf>Rectangle</span><span class=p>(</span><span class=n>source</span><span class=p>:</span><span class=w> </span><span class=n>Rectangle</span><span class=p>)</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>Un</span><span class=w> </span><span class=n>appel</span><span class=w> </span><span class=n>au</span><span class=w> </span><span class=n>constructeur</span><span class=w> </span><span class=n>parent</span><span class=w> </span><span class=n>est</span><span class=w> </span><span class=n>requis</span><span class=w> </span><span class=n>pour</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>copier</span><span class=w> </span><span class=n>les</span><span class=w> </span><span class=n>attributs</span><span class=w> </span><span class=n>privés</span><span class=w> </span><span class=n>définis</span><span class=w> </span><span class=n>dans</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>classe</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>mère</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nf>super</span><span class=p>(</span><span class=n>source</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>this</span><span class=p>.</span><span class=n>width</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>source</span><span class=p>.</span><span class=n>width</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>this</span><span class=p>.</span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>source</span><span class=p>.</span><span class=n>height</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>clone</span><span class=p>():</span><span class=n>Shape</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>new</span><span class=w> </span><span class=nf>Rectangle</span><span class=p>(</span><span class=n>this</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>class</span><span class=w> </span><span class=n>Circle</span><span class=w> </span><span class=n>extends</span><span class=w> </span><span class=n>Shape</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>field</span><span class=w> </span><span class=n>radius</span><span class=p>:</span><span class=w> </span><span class=kt>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>constructor</span><span class=w> </span><span class=nf>Circle</span><span class=p>(</span><span class=n>source</span><span class=p>:</span><span class=w> </span><span class=n>Circle</span><span class=p>)</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nf>super</span><span class=p>(</span><span class=n>source</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>this</span><span class=p>.</span><span class=n>radius</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>source</span><span class=p>.</span><span class=n>radius</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>clone</span><span class=p>():</span><span class=n>Shape</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>new</span><span class=w> </span><span class=nf>Circle</span><span class=p>(</span><span class=n>this</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>//</span><span class=w> </span><span class=n>Quelque</span><span class=w> </span><span class=n>part</span><span class=w> </span><span class=n>dans</span><span class=w> </span><span class=n>le</span><span class=w> </span><span class=n>code</span><span class=w> </span><span class=n>client</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>class</span><span class=w> </span><span class=n>Application</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>field</span><span class=w> </span><span class=n>shapes</span><span class=p>:</span><span class=w> </span><span class=n>array</span><span class=w> </span><span class=n>of</span><span class=w> </span><span class=n>Shape</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>constructor</span><span class=w> </span><span class=nf>Application</span><span class=p>()</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Circle</span><span class=w> </span><span class=n>circle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>new</span><span class=w> </span><span class=nf>Circle</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>circle</span><span class=p>.</span><span class=n>X</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>circle</span><span class=p>.</span><span class=n>Y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>circle</span><span class=p>.</span><span class=n>radius</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>shapes</span><span class=p>.</span><span class=k>add</span><span class=p>(</span><span class=n>circle</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Circle</span><span class=w> </span><span class=n>anotherCircle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>circle</span><span class=p>.</span><span class=nf>clone</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>shapes</span><span class=p>.</span><span class=k>add</span><span class=p>(</span><span class=n>anotherCircle</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>La</span><span class=w> </span><span class=n>variable</span><span class=w> </span><span class=o>`</span><span class=n>autreCercle</span><span class=o>`</span><span class=w> </span><span class=n>contient</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>copie</span><span class=w> </span><span class=n>exacte</span><span class=w> </span><span class=n>de</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>l</span><span class=err>’</span><span class=n>objet</span><span class=w> </span><span class=o>`</span><span class=n>Cercle</span><span class=o>`</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Rectangle</span><span class=w> </span><span class=n>rectangle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>new</span><span class=w> </span><span class=nf>Rectangle</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>rectangle</span><span class=p>.</span><span class=n>width</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>rectangle</span><span class=p>.</span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>shapes</span><span class=p>.</span><span class=k>add</span><span class=p>(</span><span class=n>rectangle</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>method</span><span class=w> </span><span class=nf>businessLogic</span><span class=p>()</span><span class=w> </span><span class=k>is</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>Le</span><span class=w> </span><span class=n>prototype</span><span class=w> </span><span class=n>est</span><span class=w> </span><span class=n>très</span><span class=w> </span><span class=n>pratique</span><span class=p>,</span><span class=w> </span><span class=n>car</span><span class=w> </span><span class=n>il</span><span class=w> </span><span class=n>vous</span><span class=w> </span><span class=n>permet</span><span class=w> </span><span class=n>de</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>créer</span><span class=w> </span><span class=n>une</span><span class=w> </span><span class=n>copie</span><span class=w> </span><span class=n>d</span><span class=err>’</span><span class=n>un</span><span class=w> </span><span class=n>objet</span><span class=w> </span><span class=n>en</span><span class=w> </span><span class=n>ignorant</span><span class=w> </span><span class=n>tout</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>son</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>type</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Array</span><span class=w> </span><span class=n>shapesCopy</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>new</span><span class=w> </span><span class=n>Array</span><span class=w> </span><span class=n>of</span><span class=w> </span><span class=n>Shapes</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>Par</span><span class=w> </span><span class=n>exemple</span><span class=p>,</span><span class=w> </span><span class=n>nous</span><span class=w> </span><span class=n>ne</span><span class=w> </span><span class=n>savons</span><span class=w> </span><span class=n>pas</span><span class=w> </span><span class=n>exactement</span><span class=w> </span><span class=n>quels</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=err>é</span><span class=n>léments</span><span class=w> </span><span class=n>figurent</span><span class=w> </span><span class=n>dans</span><span class=w> </span><span class=n>le</span><span class=w> </span><span class=n>tableau</span><span class=w> </span><span class=n>des</span><span class=w> </span><span class=n>formes</span><span class=p>.</span><span class=w> </span><span class=n>Nous</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>savons</span><span class=w> </span><span class=n>juste</span><span class=w> </span><span class=n>que</span><span class=w> </span><span class=n>ce</span><span class=w> </span><span class=n>sont</span><span class=w> </span><span class=n>tous</span><span class=w> </span><span class=n>des</span><span class=w> </span><span class=n>formes</span><span class=p>.</span><span class=w> </span><span class=n>Grâce</span><span class=w> </span><span class=n>au</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>polymorphisme</span><span class=p>,</span><span class=w> </span><span class=n>lorsque</span><span class=w> </span><span class=n>nous</span><span class=w> </span><span class=n>appelons</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>méthode</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=o>`</span><span class=n>clone</span><span class=o>`</span><span class=w> </span><span class=n>sur</span><span class=w> </span><span class=n>une</span><span class=w> </span><span class=n>forme</span><span class=p>,</span><span class=w> </span><span class=n>le</span><span class=w> </span><span class=n>programme</span><span class=w> </span><span class=n>vérifie</span><span class=w> </span><span class=n>sa</span><span class=w> </span><span class=n>classe</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>et</span><span class=w> </span><span class=n>lance</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>méthode</span><span class=w> </span><span class=n>clone</span><span class=w> </span><span class=n>appropriée</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>cette</span><span class=w> </span><span class=n>classe</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>C</span><span class=err>’</span><span class=n>est</span><span class=w> </span><span class=n>pour</span><span class=w> </span><span class=n>cela</span><span class=w> </span><span class=n>que</span><span class=w> </span><span class=n>nous</span><span class=w> </span><span class=n>fabriquons</span><span class=w> </span><span class=n>des</span><span class=w> </span><span class=n>clones</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>plutôt</span><span class=w> </span><span class=n>qu</span><span class=err>’</span><span class=n>un</span><span class=w> </span><span class=n>ensemble</span><span class=w> </span><span class=n>d</span><span class=err>’</span><span class=n>objets</span><span class=w> </span><span class=n>forme</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nf>foreach</span><span class=w> </span><span class=p>(</span><span class=n>s</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=n>shapes</span><span class=p>)</span><span class=w> </span><span class=n>do</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>shapesCopy</span><span class=p>.</span><span class=k>add</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=nf>clone</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>Le</span><span class=w> </span><span class=n>tableau</span><span class=w> </span><span class=o>`</span><span class=n>CopiesFormes</span><span class=o>`</span><span class=w> </span><span class=p>(</span><span class=n>shapesCopy</span><span class=p>)</span><span class=w> </span><span class=n>contient</span><span class=w> </span><span class=n>les</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=o>//</span><span class=w> </span><span class=n>copies</span><span class=w> </span><span class=n>exactes</span><span class=w> </span><span class=n>du</span><span class=w> </span><span class=n>tableau</span><span class=w> </span><span class=n>des</span><span class=w> </span><span class=o>`</span><span class=n>formes</span><span class=o>`</span><span class=p>.</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><a href=#possibilités-dapplication><h2 id=possibilités-dapplication><span class=hanchor arialabel=Anchor># </span>Possibilités d’application</h2></a><p>Utilisez le prototype si vous ne voulez pas que votre code dépende des classes concrètes des objets que vous clonez.</p><p>Vous rencontrerez ce cas si votre code manipule des objets obtenus via l’interface d’une application externe. Il arrive que votre code ne puisse pas se baser sur les classes concrètes de ces objets car elles sont inconnues.</p><p>Le prototype procure une interface générale au code client et lui permet de travailler avec tous les objets clonables. Cette interface rend le code client indépendant des classes concrètes des objets qu’il clone.</p><p>Utilisez ce patron si vous voulez réduire le nombre de sous-classes quand elles ne diffèrent que dans leur manière d’initialiser leurs objets respectifs. Ces sous-classes pourraient avoir été prévues pour créer des objets similaires dans des configurations spécifiques.</p><p>Le patron de conception prototype vous permet d’utiliser un ensemble d’objets préconstruits (des prototypes) de différentes manières.</p><p>Plutôt que d’instancier une sous-classe qui correspond à une configuration précise, le client peut se contenter de chercher le prototype approprié et de le cloner.</p><a href=#mise-en-œuvre><h2 id=mise-en-œuvre><span class=hanchor arialabel=Anchor># </span>Mise en œuvre</h2></a><ol><li><p>Créez l’interface du prototype et déclarez-y la méthode <code>clone</code>, mais si vous avez une hiérarchie de classes existante, ajoutez juste la méthode à toutes ses classes.</p></li><li><p>Une classe prototype doit définir un autre constructeur capable de prendre un objet de cette classe comme paramètre. Le constructeur doit copier les valeurs des attributs définis dans la classe de l’objet dans l’instance qui vient d’être créée. Si une sous-classe est concernée, vous devez appeler le constructeur du parent pour gérer le clonage de ses attributs privés.</p><p>Si le langage de programmation que vous utilisez ne gère pas la surcharge, vous pouvez définir une méthode spéciale pour copier les données de l’objet. Faire tout ceci à l’intérieur du constructeur est plus pratique, car il retourne le résultat directement après avoir appelé l’opérateur <code>new</code>.</p></li><li><p>La méthode de clonage ne contient qu’une seule ligne de code : un opérateur <code>new</code> avec la version prototype du constructeur. Notez bien que chaque classe doit redéfinir la méthode de clonage et utiliser le nom de sa propre classe avec l’opérateur <code>new</code>. Si vous ne le faites pas, la méthode de clonage sera capable de produire des objets de la classe mère.</p></li><li><p>Vous pouvez également créer un registre centralisé des prototypes pour garder un catalogue de prototypes fréquemment utilisés.</p><p>Ce registre peut être implémenté avec une classe fabrique, ou mis dans une classe prototype de base avec une méthode statique qui récupère le prototype. Cette méthode ira chercher un prototype en fonction du critère de recherche que le code client passe à la méthode. Ce critère peut être une chaîne de caractères ou un ensemble de paramètres de recherche. Dès que le prototype recherché est trouvé, le registre crée un clone et le retourne au client.</p><p>Pour finir, remplacez tous les appels directs aux constructeurs des sous-classes par des appels à la méthode fabrique du registre de prototypes.</p></li></ol><a href=#avantages-et-inconvénients><h2 id=avantages-et-inconvénients><span class=hanchor arialabel=Anchor># </span>Avantages et inconvénients</h2></a><ul><li><p>Vous pouvez cloner les objets sans les coupler avec leurs classes concrètes.</p></li><li><p>Vous clonez des prototypes préconstruits et vous pouvez vous débarrasser du code d’initialisation redondant.</p></li><li><p>Vous pouvez créer des objets complexes plus facilement.</p></li><li><p>Vous obtenez une alternative à l’héritage pour gérer les modèles de configuration d’objets complexes.</p></li><li><p>Cloner des objets complexes dotés de références circulaires peut se révéler très difficile.</p></li></ul><a href=#liens-avec-les-autres-patrons><h2 id=liens-avec-les-autres-patrons><span class=hanchor arialabel=Anchor># </span>Liens avec les autres patrons</h2></a><ul><li><p>La
<a href=https://refactoring.guru/fr/design-patterns/factory-method rel=noopener>Fabrique</a> est souvent utilisée dès le début de la conception (moins compliquée et plus personnalisée grâce aux sous-classes) et évolue vers la
<a href=https://refactoring.guru/fr/design-patterns/abstract-factory rel=noopener>Fabrique abstraite</a>, le
<a href=https://refactoring.guru/fr/design-patterns/prototype rel=noopener>Prototype</a>, ou le
<a href=https://refactoring.guru/fr/design-patterns/builder rel=noopener>Monteur</a> (ce dernier étant plus flexible, mais plus compliqué).</p></li><li><p>Les classes
<a href=https://refactoring.guru/fr/design-patterns/abstract-factory rel=noopener>Fabrique abstraite</a> sont souvent basées sur un ensemble de
<a href=https://refactoring.guru/fr/design-patterns/factory-method rel=noopener>Fabriques</a>, mais vous pouvez également utiliser le
<a href=https://refactoring.guru/fr/design-patterns/prototype rel=noopener>Prototype</a> pour écrire leurs méthodes.</p></li><li><p>Le
<a href=https://refactoring.guru/fr/design-patterns/prototype rel=noopener>Prototype</a> se révèle utile lorsque vous voulez sauvegarder des copies de
<a href=https://refactoring.guru/fr/design-patterns/command rel=noopener>Commandes</a> dans l’historique.</p></li><li><p>Les conceptions qui reposent énormément sur le
<a href=https://refactoring.guru/fr/design-patterns/composite rel=noopener>Composite</a> et le
<a href=https://refactoring.guru/fr/design-patterns/decorator rel=noopener>Décorateur</a> tirent des avantages à utiliser le
<a href=https://refactoring.guru/fr/design-patterns/prototype rel=noopener>Prototype</a>. Il vous permet de cloner les structures complexes plutôt que de les reconstruire à partir de rien.</p></li><li><p>Le
<a href=https://refactoring.guru/fr/design-patterns/prototype rel=noopener>Prototype</a> n’est pas basé sur l’héritage, il n’a donc pas ses désavantages. Mais le <em>prototype</em> requiert une initialisation compliquée pour l’objet cloné. La
<a href=https://refactoring.guru/fr/design-patterns/factory-method rel=noopener>Fabrique</a> est basée sur l’héritage, mais n’a pas besoin d’une étape d’initialisation.</p></li><li><p>Parfois le
<a href=https://refactoring.guru/fr/design-patterns/prototype rel=noopener>Prototype</a> peut venir remplacer le
<a href=https://refactoring.guru/fr/design-patterns/memento rel=noopener>Mémento</a> et proposer une solution plus simple. Cela n’est possible que si l’objet (l’état que vous voulez stocker dans l’historique) est assez direct et ne possède pas de liens vers des ressources externes, ou que les liens sont faciles à recréer.</p></li><li><p>Les
<a href=https://refactoring.guru/fr/design-patterns/abstract-factory rel=noopener>Fabriques abstraites</a>,
<a href=https://refactoring.guru/fr/design-patterns/builder rel=noopener>Monteurs</a> et
<a href=https://refactoring.guru/fr/design-patterns/prototype rel=noopener>Prototypes</a> peuvent tous être implémentés comme des
<a href=https://refactoring.guru/fr/design-patterns/singleton rel=noopener>Singletons</a>.</p></li></ul><a href=#exemples-de-code><h2 id=exemples-de-code><span class=hanchor arialabel=Anchor># </span>Exemples de code</h2></a><p><a href=https://refactoring.guru/fr/design-patterns/prototype/java/example rel=noopener><img width=43 height=56 src=../../_resources/java_c2b09c2022114d5892b15708c638c083.svg class=jop-noMdConv></a>
<a href=https://refactoring.guru/fr/design-patterns/prototype/csharp/example rel=noopener><img width=43 height=56 src=../../_resources/csharp_ec7ad2cb9f464827b5d909be3769f4c3.svg class=jop-noMdConv></a>
<a href=https://refactoring.guru/fr/design-patterns/prototype/cpp/example rel=noopener><img width=43 height=56 src=../../_resources/cpp_1e2c5ca244414ad89f2a6132c93d3f67.svg class=jop-noMdConv></a>
<a href=https://refactoring.guru/fr/design-patterns/prototype/php/example rel=noopener><img width=43 height=56 src=../../_resources/php_c1fe797d36c546b49f1a3aa96f5d29e6.svg class=jop-noMdConv></a>
<a href=https://refactoring.guru/fr/design-patterns/prototype/python/example rel=noopener><img width=43 height=56 src=../../_resources/python_7bf6c5526c5e465dae6477efd55ec5c0.svg class=jop-noMdConv></a>
<a href=https://refactoring.guru/fr/design-patterns/prototype/ruby/example rel=noopener><img width=43 height=56 src=../../_resources/ruby_bd61ac41674241b59960f6ebf06d0b64.svg class=jop-noMdConv></a>
<a href=https://refactoring.guru/fr/design-patterns/prototype/swift/example rel=noopener><img width=43 height=56 src=../../_resources/swift_bd68a943b14244a9ae4dcc718b0d817d.svg class=jop-noMdConv></a>
<a href=https://refactoring.guru/fr/design-patterns/prototype/typescript/example rel=noopener><img width=43 height=56 src=../../_resources/typescript_36277facebfd4ff0b4b37f53b0b712a9.svg class=jop-noMdConv></a>
<a href=https://refactoring.guru/fr/design-patterns/prototype/go/example rel=noopener><img width=43 height=56 src=../../_resources/go_1f3ef7216c0242d5bfb13d223e4d73ca.svg class=jop-noMdConv></a></p><p><a href=https://refactoring.guru/fr/design-patterns/book rel=noopener><img width=200 height=200 src=../../_resources/patterns-book-banner-3_9b6d79ff01ae47a9b0c94ef4a3c.png class=jop-noMdConv></a></p><a href=#soutenez-notre-site-gratuit-et-obtenez-lebook><h3 id=soutenez-notre-site-gratuit-et-obtenez-lebook><span class=hanchor arialabel=Anchor># </span>Soutenez notre site gratuit et obtenez l’ebook !</h3></a><ul><li>22 patrons de conception et 8 principes expliqués en profondeur.</li><li>444 pages de vulgarisation, bien structurées et faciles à lire.</li><li>225 illustrations et diagrammes clairs pour aider à la compréhension.</li><li>Une archive avec des exemples de code dans 9 langages.</li><li>Tous les appareils sont pris en charge : formats PDF/EPUB/MOBI/KFX.</li></ul><p><a href=https://refactoring.guru/fr/design-patterns/book rel=noopener>En savoir plus…</a></p><a href=#suivant><h4 id=suivant><span class=hanchor arialabel=Anchor># </span>Suivant</h4></a><p><a href=https://refactoring.guru/fr/design-patterns/singleton rel=noopener>Singleton</a></p><a href=#retour><h4 id=retour><span class=hanchor arialabel=Anchor># </span>Retour</h4></a><p><a href=https://refactoring.guru/fr/design-patterns/builder rel=noopener>Monteur</a></p><p><a href=https://refactoring.guru/fr/design-patterns/book rel=noopener><img width=245 height=375 src=../../_resources/web-cover-fr_d757fd6f86f249eaa256070c13526574.png class=jop-noMdConv></a></p><p>Cet article est tiré de notre ebook
<strong>Plongée au cœur des
PATRONS DE CONCEPTION</strong></p><p><a href=https://refactoring.guru/fr/design-patterns/book rel=noopener>En savoir plus…</a></p><p>Facebook</p><p>Twitter</p><ul><li><a href="https://feedback.refactoring.guru/?lang=en&show_feedback_form_private=true" rel=noopener>Nous contacter</a></li><li><a href=https://refactoring.guru/fr/login rel=noopener>Connexion</a></li></ul><p><a href=https://refactoring.guru/design-patterns/prototype rel=noopener>English</a>
<a href=https://refactoring.guru/es/design-patterns/prototype rel=noopener>Español</a>
<a href=https://refactoring.guru/fr/design-patterns/prototype rel=noopener>Français</a>
<a href=https://refactoring.guru/pl/design-patterns/prototype rel=noopener>Polski</a>
<a href=https://refactoring.guru/pt-br/design-patterns/prototype rel=noopener>Português-Br</a>
<a href=https://refactoring.guru/ru/design-patterns/prototype rel=noopener>Русский</a>
<a href=https://refactoring.guru/uk/design-patterns/prototype rel=noopener>Українська</a>
<a href=https://refactoringguru.cn/design-patterns/prototype rel=noopener>中文</a></p><p><a href=https://refactoring.guru/fr rel=noopener><img src=https://deuxfois.github.io/quartz//../../_resources/logo-covid-winter_2ca4640891ab460392c35b3a5cdd6326.png width=auto alt=Refactoring.Guru></a></p><p><img src=https://deuxfois.github.io/quartz//../../_resources/winter-hat_d7ab682aec5545b5af3b31577a4ca2e0.png width=auto alt></p><ul><li><a href=https://refactoring.guru/fr/store rel=noopener>Contenu premium</a></li><li><a href=https://refactoring.guru/fr/design-patterns rel=noopener>Patrons de conception</a><ul><li><a href=https://refactoring.guru/fr/design-patterns/what-is-pattern rel=noopener>Introduction</a></li><li><a href=https://refactoring.guru/fr/design-patterns/catalog rel=noopener>Catalogue</a></li><li><a href=https://refactoring.guru/fr/design-patterns/creational-patterns rel=noopener>Patrons de création</a><ul><li><a href=https://refactoring.guru/fr/design-patterns/factory-method rel=noopener>Fabrique</a></li><li><a href=https://refactoring.guru/fr/design-patterns/abstract-factory rel=noopener>Fabrique abstraite</a></li><li><a href=https://refactoring.guru/fr/design-patterns/builder rel=noopener>Monteur</a></li><li><a href=https://refactoring.guru/fr/design-patterns/prototype rel=noopener>Prototype</a></li><li><a href=https://refactoring.guru/fr/design-patterns/singleton rel=noopener>Singleton</a></li></ul></li><li><a href=https://refactoring.guru/fr/design-patterns/structural-patterns rel=noopener>Patrons structurels</a></li><li><a href=https://refactoring.guru/fr/design-patterns/behavioral-patterns rel=noopener>Patrons comportementaux</a></li><li><a href=https://refactoring.guru/fr/design-patterns/examples rel=noopener>Exemples de code</a></li></ul></li><li><a href=https://refactoring.guru/fr/refactoring rel=noopener>Refactorisation (commenter bientôt)</a></li></ul><p><a href=https://refactoring.guru/fr/login rel=noopener>Connexion</a>
<a href="https://feedback.refactoring.guru/?lang=en" rel=noopener>Nous contacter</a></p><ul><li><a href=https://refactoring.guru/fr rel=noopener>Accueil</a></li><li><a href=https://refactoring.guru/fr/refactoring rel=noopener>Refactorisation</a></li><li><a href=https://refactoring.guru/fr/design-patterns rel=noopener>Patrons de conception</a></li><li><a href=https://refactoring.guru/fr/store rel=noopener>Contenu premium</a></li><li><a href="https://feedback.refactoring.guru/?lang=en" rel=noopener>Forum</a></li><li><a href="https://feedback.refactoring.guru/?lang=en&show_feedback_form_private=true" rel=noopener>Nous contacter</a></li></ul><p>2014-2021
<a href=https://refactoring.guru/fr rel=noopener>Refactoring.Guru</a>. Tous droits réservés.
<img src=https://deuxfois.github.io/quartz//../../_resources/fa-building_a61ea197b4a94a1e88cda3c8db312289.svg width=auto alt="Organization address"> Khmelnitske shosse 19 / 27, Kamianets-Podilskyi, Ukraine, 32305
Email:
<a rel=noopener class="internal-link broken" data-src=mailto:support@refactoring.guru>support@refactoring.guru</a></p><p>Illustrations par
<a href=http://zhart.us/ rel=noopener>Dmitry Zhart</a></p><ul><li><a href=https://refactoring.guru/fr/terms rel=noopener>Termes et conditions</a></li><li><a href=https://refactoring.guru/fr/privacy-policy rel=noopener>Politique de protection de la vie privée</a></li><li><a href=https://refactoring.guru/fr/content-usage-policy rel=noopener>Politique de l’utilisation des données</a></li></ul></article><hr><div class=page-end><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/quartz/Architecture/Design_Pattern/Creation/Sommaire/ data-ctx=Prototype data-src=/Architecture/Design_Pattern/Creation/Sommaire class=internal-link></a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://deuxfois.github.io/quartz/js/graph.243ea0d4fc79317e06f846bd698ba136.js></script></div></div><div id=contact_buttons><footer><p>Made by DeuxFois using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2022</p><ul><li><a href=https://deuxfois.github.io/quartz/>Home</a></li><li><a href=https://twitter.com/_jzhao>Twitter</a></li><li><a href=https://github.com/jackyzha0>Github</a></li></ul></footer></div></div></body></html>