<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Linux Process States and Signals When troubleshooting a system, it‚Äôs important to understand the process life-cycle and how the scheduler divides the CPU cores between the running processes and how the kernel communicates with process and how the processes communicate among themselves."><title>Linux Process States and Signals</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://deuxfois.github.io/quartz//icon.png><link href=https://deuxfois.github.io/quartz/styles.b54f56dc7e7fdf6be9a4427dc6b0509b.min.css rel=stylesheet><link href=https://deuxfois.github.io/quartz/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://deuxfois.github.io/quartz/js/darkmode.69b2c08ae0f08c3a3f86259a122e1f06.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/util.39f53d45cb9520bdaf946bd063598b19.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://deuxfois.github.io/quartz/js/popover.37b1455b8f0603154072b9467132c659.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://deuxfois.github.io/quartz/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://deuxfois.github.io/quartz/",fetchData=Promise.all([fetch("https://deuxfois.github.io/quartz/indices/linkIndex.fac515431b91ee8c7d3edde254f6b399.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://deuxfois.github.io/quartz/indices/contentIndex.de4007a07fc010844c2b8b75949bbfdb.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const n=new URL(BASE_URL),s=n.pathname,o=window.location.pathname,i=s==o;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts();const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=i&&!0;drawGraph("https://deuxfois.github.io/quartz",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2}),initPopover("https://deuxfois.github.io/quartz",!0,!0)},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/deuxfois.github.io\/quartz\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://deuxfois.github.io/quartz/js/full-text-search.0ec5fb908204b9e13989f2c640c0870b.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://deuxfois.github.io/quartz/>ü™¥ Quartz 3.2</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Linux Process States and Signals</h1><p class=meta>Last updated
Unknown
<a href=https://github.com/jackyzha0/quartz/tree/hugo/content/Master/Concurrence%20dans%20les%20syst%c3%a8mes/Linux%20Process%20States%20and%20Signals.md rel=noopener>Edit Source</a></p><ul class=tags><li><a href=https://deuxfois.github.io/quartz/tags/concurrence/>Concurrence</a></li><li><a href=https://deuxfois.github.io/quartz/tags/s1/>S1</a></li></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents></nav></details></aside><a href=#linux-process-states-and-signals><h1 id=linux-process-states-and-signals><span class=hanchor arialabel=Anchor># </span>Linux Process States and Signals</h1></a><p>When troubleshooting a system, it‚Äôs important to understand the process life-cycle and how the scheduler divides the CPU cores between the running processes and how the kernel communicates with process and how the processes communicate among themselves.</p><p>To see the system process states, you can look for the column S of <code>top</code> output (or column STAT of <code>ps x</code> output):</p><img width=692 height=267 src=../../../_resources/1_7BY0ifR6ufcn3zhxhRfQzw_9190c8d7f6c644c9ad8f9ec59.png class=jop-noMdConv><p>top command output, the process state is the column ‚Äús‚Äù</p><p>Linux has basically 5 states:</p><ul><li><strong>Running/Runnable :</strong> running processes are processes using a CPU core right now, a runnable process is a process that has everything to run and is just waiting for a CPU core slot.</li><li><strong>Sleeping:</strong> a sleeping process is a process waiting for a resource to be available (for example, a I/O operation to complete) or an event to happen (like a certain amount of time to pass). The difference between process in <strong>Interruptible Sleep (S)</strong> state and <strong>Uninterruptible Sleep (D)</strong> is that the former will wake up to handle signals while the former won‚Äôt. We‚Äôll talk about signals in a moment, but let‚Äôs suppose that a process is waiting for a I/O operation to complete before wake up. If in the meantime, it receives a signal to terminate (<strong>SIGKILL</strong>), it will terminate before having the chance to handle the requested data. That‚Äôs why I/O operations <em>normally</em> go to uninterruptible sleep while waiting for the result: they will wake up with when the operation is ready, handle the result and, only then, check for any pending signal to handle. Processes that can be terminated before the wake up condition is fulfilled without any consequence usually go to interruptible sleep instead.</li><li><strong>Stopped (T):</strong> a process becomes stopped when it receives the <strong>SIGSTOP</strong> signal (not unlike when you press <code>&lt;ctrl>+z</code> in the shell, although <code>&lt;ctrl>+z</code> sends a <strong>SIGTSTP</strong> instead). When stopped, the process execution is suspended and the only signals it will handle are <strong>SIGKILL</strong> and <strong>SIGCONT</strong>. The former will remove the process permanently, while the later will put the process back to the <em>Running/Runnable</em> state (like when you run <code>fg</code> or <code>bg</code> after pressing <code>&lt;ctrl>+z</code> in the shell).</li><li><strong>Zombie (Z):</strong> we briefly talked about zombie processes when we discussed
<a href=https://medium.com/@cloudchef/linux-system-calls-c2867c7c30c1 rel=noopener>system calls</a>. When a process finishes with <code>exit()</code> system call, its state needs to be ‚Äúreaped‚Äù by its parent (calling <code>wait()</code>); in the meantime, the child process remains in <em>zombie</em> state (not alive nor dead).</li></ul><p>The diagram below helps understand the transition between process states:</p><p><img src=https://deuxfois.github.io/quartz//../../../_resources/1_IaPYYJt9tXFvDnLeWNuVbw_6f83373cc02840518dd69cbb1.png width=auto alt></p><a href=#signals><h1 id=signals><span class=hanchor arialabel=Anchor># </span>Signals</h1></a><p>Signals are one of the ways process communicate among themselves and with the kernel. They can be sent using the system call
<a href=http://www.tutorialspoint.com/unix_system_calls/kill.htm rel=noopener><strong>kill</strong></a> (despite the name, it can send any signal, not only <strong>SIGKILL</strong>) and the commands <code>kill</code> and <code>killall</code>.</p><p>When receiving a signal, a process can chose to take one of the following actions:</p><ul><li>execute the signal default action</li><li>block the signal setting a signal mask (this is done using the system call
<a href=http://www.tutorialspoint.com/unix_system_calls/sigprocmask.htm rel=noopener><strong>sigmask</strong></a>)</li><li>assign a custom handler to the signal, executing a custom action (using the system call
<a href=http://www.tutorialspoint.com/unix_system_calls/signal.htm rel=noopener><strong>signal</strong></a>)</li></ul><p>Exceptionally, <strong>SIGKILL</strong> and <strong>SIGSTOP</strong> signals cannot be handled or blocked.</p><p>The list of the most commonly used signals follow:</p><ul><li><strong>SIGTERM:</strong> surprisingly, the default signal sent by <code>kill</code> command. Asks the process to terminate voluntarily.</li><li><strong>SIGKILL:</strong> unlike <strong>SIGTERM,</strong> forces the process to terminate. Can‚Äôt be blocked or handled.</li><li><strong>SIGSTOP:</strong> suspend the process execution, putting it in <em>stopped</em> state. In this state, the process will do nothing but accept <strong>SIGKILL</strong> and <strong>SIGCONT</strong> signals. Can‚Äôt be blocked or handled.</li><li><strong>SIGTSTP:</strong> almost identical to <strong>SIGSTOP</strong>; the only difference is it can be blocked or handled. This is the signal sent when you type <code>&lt;ctrl>+z</code> in the terminal.</li><li><strong>SIGCONT:</strong> if a process is in stopped state, it will put it back in the <em>running/runnable</em> state and resume it execution. If the process is in any other state, it‚Äôs silently ignored.</li><li><strong>SIGINT:</strong> generated when the user type <code>&lt;ctrl>+c</code> in the terminal. It interrupts the current command processing and wait for user‚Äôs next command.</li><li><strong>SIGQUIT:</strong> generated when the user type <code>&lt;ctrl>+\</code> in the terminal. Normally, it will force the process to produce a
<a href=https://en.wikipedia.org/wiki/Core_dump rel=noopener>core dump</a> and terminate.</li><li><strong>SIGALRM:</strong> signal used to wake up sleeping process, normally scheduled by
<a href=http://www.tutorialspoint.com/unix_system_calls/alarm.htm rel=noopener><strong>alarm</strong></a> system call.</li><li><strong>SIGCHLD:</strong> signal send from a child process to its parent process when its state changes . The system call
<a href=http://www.tutorialspoint.com/unix_system_calls/wait.htm rel=noopener><strong>wait</strong></a> creates a signal handler for <strong>SIGCHLD</strong> in the parent process; by default it will trigger only when the child calls
<a href=http://www.tutorialspoint.com/unix_system_calls/exit.htm rel=noopener><strong>exit</strong></a>, but it can be configured to be triggered by another state transitions as well.</li><li><strong>SIGWINCH:</strong> generated when the terminal detects a change on its size. For full-screen terminal applications, it can trigger a refresh, otherwise can be safely ignored.</li><li><strong>SIGHUP:</strong> this signal indicates the terminal handling the process has been disconnected and/or the parent process terminated. If you want to run a process that won‚Äôt terminate when the terminal disconnects, you can start it using the <code>nohup</code> command. Some daemons repurpose this signal to trigger a configuration reload without stopping its execution.</li><li><strong>SIGUSR1, SIGUSR2:</strong> these signals are reserved for implementing custom actions.</li></ul></article><hr><div class=page-end><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/quartz/Master/Concurrence/ data-ctx="Linux Process States and Signals" data-src=/Master/Concurrence class=internal-link></a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://deuxfois.github.io/quartz/js/graph.afdb02e537635f9a611b53a988e5645b.js></script></div></div><div id=contact_buttons><footer><p>Made by Jacky Zhao using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, ¬© 2022</p><ul><li><a href=https://deuxfois.github.io/quartz/>Home</a></li><li><a href=https://twitter.com/_jzhao>Twitter</a></li><li><a href=https://github.com/jackyzha0>Github</a></li></ul></footer></div></div></body></html>